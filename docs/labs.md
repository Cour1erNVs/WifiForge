# Lab Instructions 

# Contents



# WPA 2

To begin the WPA 2 lab, select it from the menu; the following should appear on your screen:
![image](https://github.com/her3ticAVI/Wifi-Forge/assets/95513994/46051586-09de-40a9-9497-9be1d5353392)

The network of this lab consists of an attacker machine "a," from which we will launch our attacks from, and our victim machine. 
This lab will require two terminal windows; type the following command to open a couple of sesions on the attacking machine:
```
xterm a a
```
![image](https://github.com/her3ticAVI/Wifi-Forge/assets/95513994/5530e622-ba36-41e8-afd8-6dc0ba0195e3)

We are going to run a series of commands that will allow us to perform what is called a deauthentication attack. A deauthentication attack is a type of DoS (Denial of Service) attack that blocks the communication between a client and an AP (Access Point) in EEE 802.11 wireless networks by taking advantage of the deauthentication frames.  

 - DoS (Denial of Service) - an attempt to make a computer or network service unavailable to its users by flooding it with a bunch of illegitimate requests.   

 - WLAN (Wireless Local Area Network) - Uses radio waves to transmit data between devices and an Access Point, thus providing a wireless network.   

 - Access Point – A device that creates a WLAN.  It serves as a bridge between wired and wireless network segments.   

 - EEE 802.11 - A set of standards for a WLAN.  Defines all the protocols for wireless communication between different wireless devices.   

 - deauthentication frames – A type of management frame used to terminate a connection between a device and an AP. They signal to the device that the current session is ending.

Type the following in one of the attacker xterm windows:
```
iwconfig
```
![image](https://github.com/her3ticAVI/Wifi-Forge/assets/95513994/a45dc87a-fdbf-4605-a7a7-abf084571618)

Look at a-wlan0. Note that the mode is currently set to managed. We need to switch it to monitor. 
 - Managed Mode - the default mode your wireless uses when connected to an access point. A device in managed mode is primarily concered with its own traffic.
 - Monitor Mode - in monitor mode, a network device can access traffic outside generated by access points and other hosts.

For this lab, a-wlan0 needs to be in monitor mode to access traffic from the AP and other hosts connected to it. Set a-wlan0 to monitor mode using the following command: 
```
airmon-ng start a-wlan0
```
If successful, you should see output similar to the one pictured below:
![image](https://github.com/her3ticAVI/Wifi-Forge/assets/95513994/a34c52c5-167b-4154-9940-5cd90c94817a)
Note the words "mac80211 monitor mode vif enabled" near the bottom of the output. 

We can further verify that the network card is in monitor mode by running iwconfig again. 
![image](https://github.com/her3ticAVI/Wifi-Forge/assets/95513994/859890a4-28f3-4440-b899-86e562f38be6)

Now that the network card is in monitor mode, we can begin our attack!
Within one of the xterm sessions, run:
```
airodump-ng a-wlan0mon
```
This command will scan for network traffic arriving on a-wlan0mon. After a little while, you should see output similar to the following: 
![image](https://github.com/her3ticAVI/Wifi-Forge/assets/95513994/fd544cfa-c25b-43bf-ba3c-51ed28e23bfa)

Here, we see an access point with BSSID 02:00:00:00:04:00 and two hosts with BSSIDs 02 and 03. Remember these station IDs as they will be needed later. 

Leave airodump-ng running and run the next set of commands from your other session. 

```
airodump-ng -c6  - -bssid 02:00:00:00:04:00 a-wlan0mon -w attack 
```
 - -c6 restricts the capture to channel 6 (see the CH column in the output of the previous command)
 - -bssid 02:00:00:00:04:00 specifies the basic service set identifier (BSSID), which provides a unique identifier of a wireless AP in a WiFi network. A MAC address is typically used to represent this value.
 - a-wlan0mon specifies what interface we want to use
 - -w attack specifies what we want to name the output files that will contain the data captured from this command. In this case, the files will be prepended with the name "attack."

output should appear similar to the following screenshot. It may take a few minutes for data to appear. 
![image](https://github.com/her3ticAVI/Wifi-Forge/assets/95513994/503d72f5-8d16-4812-87f0-4e4ccc6e02db)

Switch over to your other xterm session and kill the currently running process with Ctrl + C. 
In the same xterm terminal, type the following:

```
aireplay-ng --deauth 150 -a 02:00:00:00:04:00 -c 02:00:00:00:03:00 a-wlan0mon 
```
  - aireplay-ng is a tool for injecting frames into wireless networks
  - --deauth 150 sends a 150 deauthentication frames to kick a host off the network
  - -a 02:00:00:00:04:00 specifies the BSSID of the AP we are targeting
  - -c 02:00:00:00:03:00 specifies the MAC address of the client we are attacking
  - a-wlan0mon specifies the interface we are using for this attack

You should see the following output: 
![image](https://github.com/her3ticAVI/Wifi-Forge/assets/95513994/e2f45c75-d0dd-4e21-9250-50ac573a66b7)

On the other terminal, the number under the Frames column should start to increase dramatically. 
Wait until the words "WPA handshake: 02:00:00:00:04:00" appear on the top of the terminal window as seen below: 
![image](https://github.com/her3ticAVI/Wifi-Forge/assets/95513994/e4c47eca-80b1-41c6-b1a8-582f52b7adb4)

Once this message is visible, terminate the process with Ctrl + C and run ls to view the capture files that airmon created. The file we will use for this attack will be title atack-01.cap.
We will use a modified rockyou.txt wordlist to crack password for this network. 

 - rockyou - This is a widely used wordlist that includes millions of password combinations.  Fun fact, the website “RockYou” was hacked in 2009, and led to millions of people's passwords being leaked.  The rockyou wordlist is the entire collection of these passwords.

On either of your xterm sessions, run the following command: 

```
aircrack-ng attack-01.cap –w rockyou.txt 
```
- aircrack-ng: Used to crack WEP, WPA, and WPA2-PSK keys
- attack-01.cap: contains the packets collected during our deauth attack
- -w rockyou.txt: spceifies the wordlist to crack 

***Note: rockyou.txt is a *very* very* *very* long wordlist. For this lab, we're using a shorter version to save time***

After a little while, aircrack will crack the password. 
![image](https://github.com/her3ticAVI/Wifi-Forge/assets/95513994/75b862be-21f2-4617-b980-477fdcfa9533)

*THIS COMPLETES THE LAB*

# WEP 
To begin the WPA 2 lab, select it from the menu; the following should appear on your screen:
![image](https://github.com/her3ticAVI/Wifi-Forge/assets/95513994/3955aeac-1bbf-4c0a-adf6-86f1adfc923d)

The network of this lab consists of an attacker machine "a," from which we will launch our attacks from, and our victim machines. 
This lab will require a terminal window for each machine. Type the following to start a session on each:

```
xterm a host1 host2
```
Position the windows so that all three can be seen at once.

For this lab, we'll be generating traffic between two stations using iperf and capturing the generated traffic with airmon and cracking the network key from this traffic with aircrack.
- Iperf: network performance measurement tool
- aircrack-ng: a combination of tools used to assess and enhance WiFi network security. It is primarily used to crack WEP and WPA/WPA2-PSK

To start, run iwconfig in your attacker terminal.
![image](https://github.com/her3ticAVI/Wifi-Forge/assets/95513994/244f2f15-266d-4793-8bf3-3f40fd517e65)

Look at a-wlan0. Note that the mode is currently set to managed. We need to switch it to monitor. 
 - Managed Mode - the default mode your wireless uses when connected to an access point. A device in managed mode is primarily concered with its own traffic.
 - Monitor Mode - in monitor mode, a network device can access traffic outside generated by access points and other hosts.

For this lab, a-wlan0 needs to be in monitor mode to access traffic from the AP and other hosts connected to it. Set a-wlan0 to monitor mode using the following command: 
```
airmon-ng start a-wlan0
```
If successful, you should see output similar to the one pictured below:
![image](https://github.com/her3ticAVI/Wifi-Forge/assets/95513994/a34c52c5-167b-4154-9940-5cd90c94817a)
Note the words "mac80211 monitor mode vif enabled" near the bottom of the output. 

We can further verify that the network card is in monitor mode by running iwconfig again. 
![image](https://github.com/her3ticAVI/Wifi-Forge/assets/95513994/e8988060-3a03-4364-85db-03b14296e6cb)


Now that the network card is in monitor mode, we can begin our attack!
Within your attacker terminal session, run:
```
airodump-ng a-wlan0mon
```
This enables airmon-ng to capture any WiFi traffic it can find, providing information on signal strength, encryption, and more.
At first, the table provided by airmon-ng will be blank.
![image](https://github.com/her3ticAVI/Wifi-Forge/assets/95513994/7be95b66-13f6-47a7-a15e-8810be50bb69)

Allow the process to run until it detects our AP
![image](https://github.com/her3ticAVI/Wifi-Forge/assets/95513994/3ec987d4-9653-4c65-8763-8ed9468cf2c9)

Note the BSSID and channel before killing the process with Ctrl + C.
Run the following command:
```
airodump-ng –c6 -–bssid 02:00:00:00:03:00 a-wlan0mon –w attack 
```
- -c6 restricts the capture to channel 6 (see the CH column in the output of the previous command)
- -bssid 02:00:00:00:03:00 specifies the BSSID (Basic service set identifier) of a device in a Wifi network. This value is usually represented by a MAC address.
- -w attack specifies what we want to name the output files that will contain the data captured from this command. In this case, the files will be prepended with the name "attack."

As the command runs, information regarding hosts connected to the network should appear.   
![image](https://github.com/her3ticAVI/Wifi-Forge/assets/95513994/04a05074-dff4-4842-b622-2f5002c9244f)

We now need to generate traffic on the victim hosts. In a real environment, traffic should not be hard to come by. However, because this is a simulated environment, we need to generate traffic ourselves. 
On host1 run:
```
ifconfig
```
Note the IP address of host1-wlan0
![image](https://github.com/her3ticAVI/Wifi-Forge/assets/95513994/80699bab-7973-485b-a250-011fed8b6b35)

Still on host1, run the following command:
```
iperf -s
```
This enables host1 to listen on port 5001 for traffic. 
![image](https://github.com/her3ticAVI/Wifi-Forge/assets/95513994/4498e3fc-857c-465d-9f76-0138bb1cd083)

On host2, run:
```
iperf -c 10.0.0.2 -u -b 100M -t 60
```
- -c specifies the client mode and IP address of the machine we want to connect to
- -u tells iperf to use UDP (user datagram protocol).
- -b 100M specifies the rate at which to send the data. In this case, 100 Megabytes per second
- -t 60 specifies a run time of 60 seconds
  
host2 will start sending traffic to host1. 
![image](https://github.com/her3ticAVI/Wifi-Forge/assets/95513994/f401c559-5c29-4bc2-b20f-592b6a98150d)
 
Wait until 25,000 data packets have been sent, at which point the host1 and host2 windows can be closed.

On the attacker xterm session, kill the process with Ctrl+c. List the files in the directory using ls and look for attack-01.cap. 
Run the following command:
```
aircrack-ng ./attack-01.cap
```
Aircrack will quickly crack the key using the data obtained from the network capture. 
![image](https://github.com/her3ticAVI/Wifi-Forge/assets/95513994/b98c3268-22ec-4dc0-ab0a-b674803b4ad9)

*THIS COMPLETES THE LAB*

# WPS Pixie Dust Attack

To begin the WPA 2 lab, select it from the menu; the following should appear on your screen:
![image](https://github.com/her3ticAVI/Wifi-Forge/assets/95513994/a3757ea5-4912-42d4-9198-a1f4da094c3c)

The network of this lab consists of an attacker machine "a," from which we will launch our attacks from, and our victim machine. 
Open an xterm session on your attacker machine.
```
xterm a
```
![image](https://github.com/her3ticAVI/Wifi-Forge/assets/95513994/5530e622-ba36-41e8-afd8-6dc0ba0195e3)

Now run wifite -wps, it may take a while to locate the network. 
![image](https://github.com/her3ticAVI/Wifi-Forge/assets/95513994/3a1330f5-45a7-4291-b1ce-9f06727f6af7)

When the network has been located (ESSID secure_wifi in this case) press Ctrl + C to continue. 

A prompt will appear requesting specification on which network to use. Only one network should be present; input 1 to select it. 
![image](https://github.com/her3ticAVI/Wifi-Forge/assets/95513994/f87718a5-6827-46ac-b259-d14dcb3a439b)



# Evil Twin Attack

# Wifiphisher 

# ARPspoof 
